{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/mortes-kill-bill/","result":{"data":{"site":{"siteMetadata":{"title":"Sabrina S. Santos","author":"johnywalves","siteUrl":"https://SabrinaSS.com"}},"markdownRemark":{"frontmatter":{"date":"19 de agosto de 2018","created":"2018-08-19 15:00:00 -0300","title":"Mortes em Kill Bill","description":"Visualização de dados de filmes do Tarantino com a linguagem R","category":"R","tags":["Visualização","tidyverse","ggplot"],"extras":null,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwEC/9oADAMBAAIQAxAAAAHOpBSUan//xAAYEAEBAQEBAAAAAAAAAAAAAAABAgMRE//aAAgBAQABBQIzrtZtnnY//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BiP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aar/xAAYEAEAAwEAAAAAAAAAAAAAAAAAASExcf/aAAgBAQAGPwK4cY//xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAQABPyHiqFi4lOeAygF7/9oADAMBAAIAAwAAABCMH//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxAGR//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQIBAT8Qb6Wf/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITFB/9oACAEBAAE/EKag/iCOOtkFHcWBsA9HJ//Z"},"images":{"fallback":{"src":"/static/d62eab713d799b1f2b275d42b1e7513c/2d7d2/kill-bill-1.jpg","srcSet":"/static/d62eab713d799b1f2b275d42b1e7513c/a3a49/kill-bill-1.jpg 292w,\n/static/d62eab713d799b1f2b275d42b1e7513c/8f469/kill-bill-1.jpg 585w,\n/static/d62eab713d799b1f2b275d42b1e7513c/2d7d2/kill-bill-1.jpg 1169w","sizes":"(min-width: 1169px) 1169px, 100vw"},"sources":[{"srcSet":"/static/d62eab713d799b1f2b275d42b1e7513c/8ab35/kill-bill-1.webp 292w,\n/static/d62eab713d799b1f2b275d42b1e7513c/eebd3/kill-bill-1.webp 585w,\n/static/d62eab713d799b1f2b275d42b1e7513c/b910b/kill-bill-1.webp 1169w","type":"image/webp","sizes":"(min-width: 1169px) 1169px, 100vw"}]},"width":1200,"height":499.9144568006843}}}},"html":"<p>Quando estava aprendendo o básico da <strong>Linguagem R</strong> e o <strong>R Studio</strong> em uma workshop do Igor Alcântara, ele disponibilizou algumas bases de dados dentre eles com ofereças e mortes em filmes do Quentin Tarantino.<br>\nBrincando um pouco a base encontrei uma lista de mortes em ambos volumes de Kill Bill e ocorre alguns montes</p>\n<h3>Ambiente e Dados</h3>\n<p>Para preparar o ambiente informei o diretório de trabalho indicado pelo <em>\".\"</em> e limpei todas as variáveis de ambiente após pesquisar todas pelo <em>list = ls()</em></p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">setwd<span class=\"token punctuation\">(</span><span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span>\nrm<span class=\"token punctuation\">(</span>list <span class=\"token operator\">=</span> ls<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Carreguei a biblioteca do <code class=\"language-text\">tidyverse</code> pois contém a <code class=\"language-text\">ggplot2</code>, geração de gráfico, e a <em>dplyr</em>, consulta para manipulação de dados</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># Instalar caso necessário com o comando: install.packages('tidyverse')</span>\nlibrary<span class=\"token punctuation\">(</span><span class=\"token string\">'tidyverse'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Carregando os dados através do <em>csv</em> na pasta e a visualização proporcionou uma análise exploratória</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># Carregar os dados do arquivo csv</span>\ntarantino <span class=\"token operator\">&lt;-</span> read.csv<span class=\"token punctuation\">(</span><span class=\"token string\">'tarantino.csv'</span><span class=\"token punctuation\">)</span>\nhead<span class=\"token punctuation\">(</span>tarantino<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">##            movie type     word minutes_in\n## 1 Reservoir Dogs word     dick       0.40\n## 2 Reservoir Dogs word    dicks       0.43\n## 3 Reservoir Dogs word   fucked       0.55\n## 4 Reservoir Dogs word  fucking       0.61\n## 5 Reservoir Dogs word bullshit       0.61\n## 6 Reservoir Dogs word     fuck       0.66</code></pre></div>\n<p>Os dados estão organizados com os nomes dos filmes, acontecimento de tempo em minutos</p>\n<h3>Organização</h3>\n<p>Somente me interessa os dados de mortes dos volumes 1 e 2 de Kill Bill, um consulta um filtro usando a bibliote <em>dplyr</em> que faz parte da <em>tidyverse</em>, apliquei um filtro pelo nome do Filme e tipo de evento</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">mortes <span class=\"token operator\">&lt;-</span>\n  tarantino <span class=\"token percent-operator operator\">%>%</span>\n  filter<span class=\"token punctuation\">(</span>type <span class=\"token operator\">==</span> <span class=\"token string\">'death'</span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">(</span>movie <span class=\"token operator\">==</span> <span class=\"token string\">'Kill Bill: Vol. 1'</span> <span class=\"token operator\">|</span> movie <span class=\"token operator\">==</span> <span class=\"token string\">'Kill Bill: Vol. 2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Para ter uma coluna com quantidade crescente de mortes, para facilitar na geração no gráfico</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">qtdMortes <span class=\"token operator\">&lt;-</span> nrow<span class=\"token punctuation\">(</span>as.data.frame<span class=\"token punctuation\">(</span>mortes<span class=\"token operator\">$</span>minutes_in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nmortes<span class=\"token operator\">$</span>qtd <span class=\"token operator\">&lt;-</span> seq<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> qtdMortes<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Adicionei de 112 minutos antes do segundo para duração do primeiro volume acrescido de um minuto.<br>\nFonte da duração <a href=\"https://www.imdb.com/title/tt0266697/\">Página do IMDb sobre Kill Bill: Volume 1</a></p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">mortes<span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>mortes<span class=\"token operator\">$</span>movie <span class=\"token operator\">==</span> <span class=\"token string\">'Kill Bill: Vol. 2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token operator\">$</span>minutes_in <span class=\"token operator\">&lt;-</span>\n    mortes<span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>mortes<span class=\"token operator\">$</span>movie <span class=\"token operator\">==</span> <span class=\"token string\">'Kill Bill: Vol. 2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token operator\">$</span>minutes_in <span class=\"token operator\">+</span> <span class=\"token number\">112</span></code></pre></div>\n<h3>Visualização</h3>\n<p>Com os dados organizados, o uso do <em>ggplot2</em> com os comandos:</p>\n<ul>\n<li><strong>labs</strong> Legendas do gráfico</li>\n<li><strong>geom_point</strong> Visualização dos dados por pontos</li>\n<li><strong>geom_segment</strong> Linha vermelha para separar o momento entre os dois filmes</li>\n<li><strong>theme_minimal</strong> Interface com mínimo de recursos</li>\n</ul>\n<p>Guardando na variável <code class=\"language-text\">graph</code> para usarmos depois e expondo ela</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">graph <span class=\"token operator\">&lt;-</span> ggplot<span class=\"token punctuation\">(</span>mortes<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x<span class=\"token operator\">=</span>qtd<span class=\"token punctuation\">,</span> y<span class=\"token operator\">=</span>minutes_in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n  labs<span class=\"token punctuation\">(</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Mortes por tempo em Kill Bill (Vol. 1 &amp; 2)\"</span><span class=\"token punctuation\">,</span>\n       x <span class=\"token operator\">=</span> <span class=\"token string\">\"Número de mortes\"</span><span class=\"token punctuation\">,</span>\n       y <span class=\"token operator\">=</span> <span class=\"token string\">\"Tempo de filme (minutos)\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n  geom_point<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span><span class=\"token string\">'#db0d0d'</span><span class=\"token punctuation\">,</span> size <span class=\"token operator\">=</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">,</span> alpha <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n  geom_segment<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span><span class=\"token string\">'#0d74db'</span><span class=\"token punctuation\">,</span> size <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n               aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> xend <span class=\"token operator\">=</span> qtdMortes<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> <span class=\"token number\">112</span><span class=\"token punctuation\">,</span> yend <span class=\"token operator\">=</span> <span class=\"token number\">112</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> alpha <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n  theme_minimal<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\ngraph</code></pre></div>\n<p><img src=\"/static/killbill_mortes-1-4ef8bdd486478d58da0435cafefc7ce0.svg\" alt=\"plot of chunk killbill_mortes\"></p>\n<p>Por final, gerei o arquivo com as informações na variável <code class=\"language-text\">graph</code> para visualização futura e divulgação no site</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">ggsave<span class=\"token punctuation\">(</span>filename <span class=\"token operator\">=</span> <span class=\"token string\">'KillBillDeath.jpg'</span><span class=\"token punctuation\">,</span> graph<span class=\"token punctuation\">,</span>\n       width <span class=\"token operator\">=</span> <span class=\"token number\">9.38</span><span class=\"token punctuation\">,</span> height <span class=\"token operator\">=</span> <span class=\"token number\">5.47</span><span class=\"token punctuation\">,</span> dpi <span class=\"token operator\">=</span> <span class=\"token number\">95</span><span class=\"token punctuation\">,</span> units <span class=\"token operator\">=</span> <span class=\"token string\">'in'</span><span class=\"token punctuation\">,</span> device <span class=\"token operator\">=</span> <span class=\"token string\">'jpg'</span><span class=\"token punctuation\">)</span></code></pre></div>","timeToRead":2,"excerpt":"Quando estava aprendendo o básico da Linguagem R e o R Studio em uma workshop do Igor Alcântara, ele disponibilizou algumas bases de dados…"}},"pageContext":{"slug":"/mortes-kill-bill/","recommendedLast":{"frontmatter":{"date":"23 de julho de 2023","title":"Animação para esqueleto de elementos","category":"CSS","description":"Usando HTML, CSS e keyframes para animação de esqueleto de elementos carregando com gradiente","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAECBP/aAAwDAQACEAMQAAABzSNNUhf/xAAXEAADAQAAAAAAAAAAAAAAAAABAiEy/9oACAEBAAEFAoEhd9f/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAACAwAAAAAAAAAAAAAAAAAAARARQf/aAAgBAQAGPwK9E4//xAAZEAACAwEAAAAAAAAAAAAAAAAAAREhMVH/2gAIAQEAAT8hqw0N8FBZj//aAAwDAQACAAMAAAAQf+//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QxH//xAAbEAEAAwEAAwAAAAAAAAAAAAABESFBADFhgf/aAAgBAQABPxAAUttKr5ykW1HIJTkPIifJvvv/2Q=="},"images":{"fallback":{"src":"/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/c62f0/skeleton-1.jpg","srcSet":"/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/86eb0/skeleton-1.jpg 300w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/a06fe/skeleton-1.jpg 600w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/c62f0/skeleton-1.jpg 1200w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/23bd6/skeleton-1.jpg 2400w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/cf267/skeleton-1.webp 300w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/540ab/skeleton-1.webp 600w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/3d0d9/skeleton-1.webp 1200w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/51c0c/skeleton-1.webp 2400w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":500}}},"published":true},"timeToRead":1,"fields":{"slug":"/estilizacao-skeleton/"}},"recommendedCategory":{"frontmatter":{"date":"19 de agosto de 2018","title":"Classificação de Séries IMDb","category":"R","description":"Visualização de dados da base dados do IMDb com a linguagem R","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABzIMroY//xAAYEAEBAQEBAAAAAAAAAAAAAAABAgADEf/aAAgBAQABBQKlrCae/h//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGn/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEhQf/aAAgBAQAGPwKtmlZ//8QAGBABAQEBAQAAAAAAAAAAAAAAAREAIYH/2gAIAQEAAT8hiqHE5RlhTzf/2gAMAwEAAgADAAAAEPwP/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAwEBPxDBJ7f/xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8Q0MX/xAAbEAEAAgIDAAAAAAAAAAAAAAABESEAMVFhgf/aAAgBAQABPxB2I1QRrr3HQKapi8cTAwXo41n/2Q=="},"images":{"fallback":{"src":"/static/65087980279d1a4e998d02d13ecdf360/c62f0/theater-1.jpg","srcSet":"/static/65087980279d1a4e998d02d13ecdf360/86eb0/theater-1.jpg 300w,\n/static/65087980279d1a4e998d02d13ecdf360/a06fe/theater-1.jpg 600w,\n/static/65087980279d1a4e998d02d13ecdf360/c62f0/theater-1.jpg 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/65087980279d1a4e998d02d13ecdf360/cf267/theater-1.webp 300w,\n/static/65087980279d1a4e998d02d13ecdf360/540ab/theater-1.webp 600w,\n/static/65087980279d1a4e998d02d13ecdf360/3d0d9/theater-1.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":500}}},"published":true},"timeToRead":5,"fields":{"slug":"/classificacao-series-imdb/"}}}},"staticQueryHashes":["1433154849","3590877595","3764592887","512065377","764694655"],"slicesMap":{}}