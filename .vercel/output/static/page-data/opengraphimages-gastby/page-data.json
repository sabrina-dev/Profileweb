{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/opengraphimages-gastby/","result":{"data":{"site":{"siteMetadata":{"title":"Sabrina S. Santos","author":"johnywalves","siteUrl":"https://SabrinaSS.com"}},"markdownRemark":{"frontmatter":{"date":"30 de setembro de 2022","created":"2022-09-30 12:00:25 -0300","title":"Gastby - Geração de miniaturas por contexto","description":"Otimizando as imagens de thumbnail das postagens","category":"Gatsby","tags":["SEO","Automação","Imagem"],"extras":null,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAaIyA//EABcQAQEBAQAAAAAAAAAAAAAAAAECESH/2gAIAQEAAQUC3SwIl5//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAARABD/2gAIAQEABj8CJz//xAAXEAEBAQEAAAAAAAAAAAAAAAABABFB/9oACAEBAAE/ITAuyAaQk//aAAwDAQACAAMAAAAQDC//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAwEBPxCH/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QR//EABkQAQEBAQEBAAAAAAAAAAAAAAERACExQf/aAAgBAQABPxCx+2BZg8aJ5zRqtv03/9k="},"images":{"fallback":{"src":"/static/a0acc37ba05bb9c8aab1825abe17cadd/c62f0/museum-1.jpg","srcSet":"/static/a0acc37ba05bb9c8aab1825abe17cadd/86eb0/museum-1.jpg 300w,\n/static/a0acc37ba05bb9c8aab1825abe17cadd/a06fe/museum-1.jpg 600w,\n/static/a0acc37ba05bb9c8aab1825abe17cadd/c62f0/museum-1.jpg 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/a0acc37ba05bb9c8aab1825abe17cadd/cf267/museum-1.webp 300w,\n/static/a0acc37ba05bb9c8aab1825abe17cadd/540ab/museum-1.webp 600w,\n/static/a0acc37ba05bb9c8aab1825abe17cadd/3d0d9/museum-1.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":500}}}},"html":"<p>No momento de estruturar os artigos costumo usar uma imagem para ilustrar, com direitos de uso permitido encontradas no Google Imagens ou WikiCommons, quando compartilhada nas redes sociais ela aparece juntamente com o título e descrição, como neste exemplo do twitter</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 506px; '>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABQBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAVzwmKiif//EABsQAQACAgMAAAAAAAAAAAAAAAIAAQMQEhMh/9oACAEBAAEFAgC5l4G/J2Kold6//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAECEf/aAAgBAwEBPwGbNf/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwGRj//EABoQAAICAwAAAAAAAAAAAAAAAAEhABAREnH/2gAIAQEABj8CamuB2kYzX//EABoQAAMAAwEAAAAAAAAAAAAAAAABESFBcYH/2gAIAQEAAT8hWRuqND9FG6FoA7zsh//aAAwDAQACAAMAAAAQ9A//xAAXEQADAQAAAAAAAAAAAAAAAAABEBEh/9oACAEDAQE/ELHE/8QAFREBAQAAAAAAAAAAAAAAAAAAIRD/2gAIAQIBAT8QFj//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhUaFBgf/aAAgBAQABPxBAMYwq/CAB7c2cS6quwjKthLcu+tDyU1P/2Q=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source data-srcset='/static/119b144a99ba7e8dcdf51006a8f1f30d/cbea2/og_gastby_before.webp 240w,\n/static/119b144a99ba7e8dcdf51006a8f1f30d/42669/og_gastby_before.webp 480w,\n/static/119b144a99ba7e8dcdf51006a8f1f30d/7157a/og_gastby_before.webp 506w' sizes='(max-width: 506px) 100vw, 506px' type='image/webp'>\n          <source srcset='/static/119b144a99ba7e8dcdf51006a8f1f30d/46946/og_gastby_before.jpg 240w,\n/static/119b144a99ba7e8dcdf51006a8f1f30d/55489/og_gastby_before.jpg 480w,\n/static/119b144a99ba7e8dcdf51006a8f1f30d/64191/og_gastby_before.jpg 506w' sizes='(max-width: 506px) 100vw, 506px' type='image/jpeg'>\n          <img class='gatsby-resp-image-image lazyload' data-src='/static/119b144a99ba7e8dcdf51006a8f1f30d/64191/og_gastby_before.jpg' alt='Café cremoso em uma xícara com o nome &quot;Construindo Layout 2.0&quot; do artigo abaixo' title='Compartilhamento de postagem no Twitter' loading='lazy' decoding='async' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;'>\n        </picture>\n    </span></p>\n<p>Podemos fazer melhor a imagem não é o objetivo, diferente do Instagram ou outras redes sociais, temos de dar mais destaque o título, descrição e entre outras que fazem mais sentido</p>\n<p>Gerei essa imagem para substituir a anterior</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; '>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHmTeayE//EABgQAAIDAAAAAAAAAAAAAAAAABAhAAES/9oACAEBAAEFAlENqx//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAABECH/2gAIAQEABj8CYgj/AP/EABsQAQACAgMAAAAAAAAAAAAAAAEAEBEhMUFR/9oACAEBAAE/IQUQe0pDgY0RZeq//9oADAMBAAIAAwAAABBjD//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EFn/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAACAgMBAAAAAAAAAAAAAAABEQBRECFBcf/aAAgBAQABPxAIOHs1AY3DERNIoftmFcQ1rH//2Q=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source data-srcset='/static/fd085000dccd9a485a8c147faaf15201/cbea2/og_gastby_after.webp 240w,\n/static/fd085000dccd9a485a8c147faaf15201/42669/og_gastby_after.webp 480w,\n/static/fd085000dccd9a485a8c147faaf15201/5722e/og_gastby_after.webp 900w' sizes='(max-width: 900px) 100vw, 900px' type='image/webp'>\n          <source srcset='/static/fd085000dccd9a485a8c147faaf15201/46946/og_gastby_after.jpg 240w,\n/static/fd085000dccd9a485a8c147faaf15201/55489/og_gastby_after.jpg 480w,\n/static/fd085000dccd9a485a8c147faaf15201/86440/og_gastby_after.jpg 900w' sizes='(max-width: 900px) 100vw, 900px' type='image/jpeg'>\n          <img class='gatsby-resp-image-image lazyload' data-src='/static/fd085000dccd9a485a8c147faaf15201/86440/og_gastby_after.jpg' alt='Café cremoso em uma xícara com o nome &quot;Construindo Layout 2.0&quot; e descrição do artigo  do artigo abaixo' title='Imagem com o resumo do artigo' loading='lazy' decoding='async' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;'>\n        </picture>\n    </span></p>\n<h2>Solução</h2>\n<p>Existem plugins como o <a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-open-graph-images/\">Gatsby Plugin: Open Graph Images</a> que possuem problemas e está quebrando para algumas versões do Gatsby, depois vou investigar o motivo e fazer um Pull Request de correção</p>\n<p>Nesse meio tempo resolvi criar minha própria solução me baseando no plugin, até para entender como deve funcionar</p>\n<h2>Gerando a página</h2>\n<p>Criei um template com o nome <code class=\"language-text\">open-graph-image</code>, onde o elemento com o conteúdo adicionei atributo <code class=\"language-text\">div=\"ogimage\"</code>, dentro do <code class=\"language-text\">gatsby-node.js</code> gerei as páginas dentro do caminho do <code class=\"language-text\">/__generated</code> com o <code class=\"language-text\">slug</code> da página</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/__generated</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/templates/open-graph-image.jsx</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">slug</span><span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Juntamente as outras páginas deve ser acessível quando gerada para produção ou em modelo de desenvolvimento pelo endereço <code class=\"language-text\">/__generated/&lt;slug do artigo>/index.html</code></p>\n<h2>Transformando em imagem</h2>\n<p>Depois de pronto, criei uma automação para tirar uma screenshot, para isso também precisei fazer o serviço funcionar dentro com as bibliotecas <code class=\"language-text\">puppeteer</code> e <code class=\"language-text\">express</code></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> puppeteer express --save-dev\n<span class=\"token comment\"># or</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> puppeteer express <span class=\"token parameter variable\">-D</span></code></pre></div>\n<p>E gerando com arquivo <code class=\"language-text\">get-open-graphic-images.js</code> com o conteúdo abaixo, alterando o script de <code class=\"language-text\">build</code> para <code class=\"language-text\">gatsby build &amp;&amp; node get-open-graphic-images.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> puppeteer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"puppeteer\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"express\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getImage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">servingUrl<span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">,</span> slug</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">goto</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>servingUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">__generated/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/index.html</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">waitUntil</span><span class=\"token operator\">:</span> <span class=\"token string\">\"networkidle0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> elementThumbnail <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#ogimage\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> elementThumbnail<span class=\"token punctuation\">.</span><span class=\"token function\">screenshot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./public/ogimages/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.jpg</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">get OpenGraphImage </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Gerar os Open Graphics Images</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">navigateOpenGraphic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Gerar pastas de origem para as imagens</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>fs<span class=\"token punctuation\">.</span><span class=\"token function\">existsSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public/ogimages\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    fs<span class=\"token punctuation\">.</span><span class=\"token function\">mkdirSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public/ogimages\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Pegar caminhos gerados</span>\n  <span class=\"token keyword\">const</span> slugs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdir</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./public/__generated\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> files</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    files<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">file</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> slugs<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Servir os arquivos index.html</span>\n  <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>express<span class=\"token punctuation\">.</span><span class=\"token function\">static</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"public\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> servingUrl <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://0.0.0.0:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>server<span class=\"token punctuation\">.</span><span class=\"token function\">address</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>port<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span>\n\n  <span class=\"token comment\">// Crawler das imagens</span>\n  <span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> puppeteer<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> slug <span class=\"token keyword\">of</span> slugs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">getImage</span><span class=\"token punctuation\">(</span>servingUrl<span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">,</span> slug<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Fechar o navegador e servidor</span>\n  <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"OpenGraph server closed\"</span><span class=\"token punctuation\">)</span>\n    process<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span>err <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">navigateOpenGraphic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Depois foi atualizar o das metatags com os caminhos novos, como no exemplo</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span>\n  <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">property</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>og:image<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">itemprop</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;url do sitem>/ogimages/&lt;slug do artigo>.jpg<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<h2>Referências</h2>\n<p><a href=\"https://github.com/squer-solutions/gatsby-plugin-open-graph-images\">Gatsby Plugin Open Graph - Images Public</a></p>","timeToRead":2,"excerpt":"No momento de estruturar os artigos costumo usar uma imagem para ilustrar, com direitos de uso permitido encontradas no Google Imagens ou…"}},"pageContext":{"slug":"/opengraphimages-gastby/","recommendedLast":{"frontmatter":{"date":"23 de julho de 2023","title":"Animação para esqueleto de elementos","category":"CSS","description":"Usando HTML, CSS e keyframes para animação de esqueleto de elementos carregando com gradiente","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAECBP/aAAwDAQACEAMQAAABzSNNUhf/xAAXEAADAQAAAAAAAAAAAAAAAAABAiEy/9oACAEBAAEFAoEhd9f/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAACAwAAAAAAAAAAAAAAAAAAARARQf/aAAgBAQAGPwK9E4//xAAZEAACAwEAAAAAAAAAAAAAAAAAAREhMVH/2gAIAQEAAT8hqw0N8FBZj//aAAwDAQACAAMAAAAQf+//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QxH//xAAbEAEAAwEAAwAAAAAAAAAAAAABESFBADFhgf/aAAgBAQABPxAAUttKr5ykW1HIJTkPIifJvvv/2Q=="},"images":{"fallback":{"src":"/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/c62f0/skeleton-1.jpg","srcSet":"/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/86eb0/skeleton-1.jpg 300w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/a06fe/skeleton-1.jpg 600w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/c62f0/skeleton-1.jpg 1200w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/23bd6/skeleton-1.jpg 2400w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/cf267/skeleton-1.webp 300w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/540ab/skeleton-1.webp 600w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/3d0d9/skeleton-1.webp 1200w,\n/static/40aaa21d6d234b122ff0bd3b4ca0f9a0/51c0c/skeleton-1.webp 2400w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":500}}},"published":true},"timeToRead":1,"fields":{"slug":"/estilizacao-skeleton/"}}}},"staticQueryHashes":["1433154849","3590877595","3764592887","512065377","764694655"],"slicesMap":{}}